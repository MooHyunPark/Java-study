


질의 응답 익명 게시판 구현 중.



추가 학습 내용 : 

web에서 특정한 파일을 업로드 하여 값을 전달 받는 경우 json 대신 form data 방식을 쓰는 것이 좋다.


```
@PostMapping("/create")
public ResponseEntity<?> insert(@RequestParam String title,
@RequestParam String content,
@RequestParam String username,
@RequestParam String password,
@RequestParam Boolean secure,
@RequestParam MultipartFile file) {
		
		
	QNA qna = QNA.builder().title(title).content(content).username(username)
			.password(password).secure(secure).build();
		
	if (file != null) {
		try {
			qna.setFileName(file.getOriginalFilename());
			qna.setFileData(file.getBytes());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
		
	boolean result = service.create(qna);

	Map<String, Object> resultMessage = new HashMap<>();
	if (result) {
		resultMessage.put("message", "success");
		resultMessage.put("created", qna);
		return ResponseEntity.ok(resultMessage);
	} else {
		resultMessage.put("message", "fail");
		return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(resultMessage);
	}	
}
```




구현 내용 :

